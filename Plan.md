# План автоматизации тестирования страницы на путешествие дня

## Перечень автоматизируемых сценариев

Предусловия на все тесты: 
- Настроена и запущена БД для сервиса
- Запущено приложение `aqa-shop.jar.`
- Открыта страница [Путешествие дня](localhost:8080)
- Кнопка "Купить" нажата, на странице отображены поля для оформления покупки по карте

### Позитивные сценарии (валидные данные):

1. Запрос на покупку путешествия на APPROVED карту.
   #### Шаги воспроизведения
       1. В поле "Номер карты" номер APPROVED карты (1111 2222 3333 4444)
       2. В поле "Месяц" ввести номер текущего месяца
       3. В поле "Год" ввести номер текущего года
       4. В поле владедец ввести валидные имя и фамилию
       5. В поле "CVC/CVV" ввести валидный код
       6. Кликнуть кнопку "Продолжить"
       Ожидаемый результат: На странице формы появляется оповещение об одобрении операции. В БД появляется запись об успешной операции

1. Запрос на покупку путешествия на DECLINE карту.
   #### Шаги воспроизведения
       1. В поле "Номер карты" номер DECLINE карты (5555 6666 7777 8888)
       2. В поле "Месяц" ввести номер текущего месяца
       3. В поле "Год" ввести номер текущего года
       4. В поле владедец ввести валидные имя и фамилию
       5. В поле "CVC/CVV" ввести валидный код
       6. Кликнуть кнопку "Продолжить"
       Ожидаемый результат: На странице формы появляется оповещение об отказе операции. В БД появляется запись об отклонении операции

1. **Запрос на покупку путешествия, ввод в поле "Владелец" латиницей 2 знаков через пробел.**
   #### Шаги воспроизведения
       1. В поле "Номер карты" номер APPROVED карты (1111 2222 3333 4444) 
       2. В поле "Месяц" ввести номер текущего месяца
       3. В поле "Год" ввести номер текущего года
       4. В поле "Владедец" ввести латиницей имя и фамилию одним знаком через пробел
       5. В поле "CVC/CVV" ввести валидный код
       6. Кликнуть кнопку "Продолжить"
       Ожидаемый результат: На странице формы появляется оповещение об одобрении операции. В БД появляется запись об успешной операции

1. **Запрос на покупку путешествия, ввод в поле "Месяц" минимального значения (1).**
   #### Шаги воспроизведения
       1. В поле "Номер карты" номер APPROVED карты (1111 2222 3333 4444) 
       2. В поле "Месяц" ввести "1"
       3. В поле "Год" ввести номер следующего года
       4. В поле "Владедец" ввести валидные имя и фамилию пользователя
       5. В поле "CVC/CVV" ввести валидный код
       6. Кликнуть кнопку "Продолжить"
       Ожидаемый результат: На странице формы появляется оповещение об одобрении операции. В БД появляется запись об успешной операции

1. **Запрос на покупку путешествия, ввод в поле "Месяц" максимального значения (12).**
   #### Шаги воспроизведения
       1. В поле "Номер карты" номер APPROVED карты (1111 2222 3333 4444) 
       2. В поле "Месяц" ввести "12"
       3. В поле "Год" ввести номер текущего года
       4. В поле "Владедец" ввести валидные имя и фамилию пользователя
       5. В поле "CVC/CVV" ввести валидный код
       6. Кликнуть кнопку "Продолжить"
       Ожидаемый результат: На странице формы появляется оповещение об одобрении операции. В БД появляется запись об успешной операции

1. **Запрос на покупку путешествия, ввод в поле "Год" максимального значения (больше текущего на 20).**
   #### Шаги воспроизведения
       1. В поле "Номер карты" номер APPROVED карты (1111 2222 3333 4444) 
       2. В поле "Месяц" ввести номер текущего месяца
       3. В поле "Год" ввести номер года, больше текущего на 20
       4. В поле "Владедец" ввести валидные имя и фамилию пользователя
       5. В поле "CVC/CVV" ввести валидный код
       6. Кликнуть кнопку "Продолжить"
       Ожидаемый результат: На странице формы появляется оповещение об одобрении операции. В БД появляется запись об успешной операции

### Негативные сценарии (невалидные/проблемные данные):

1. **Отправка пустой формы.**
   #### Шаги воспроизведения
       1. Оставить поле "Номер карты" пустым
       2. Оставить поле "Месяц" пустым
       3. Оставить поле "Год" пустым
       4. Оставить поле "Владедец" пустым
       5. Оставить поле "CVC/CVV" пустым
       6. Кликнуть кнопку "Продолжить"  
       Ожидаемый результат: Под полями появляются ошибки по типу "Поле пустое". В БД записи нет

1. **Отправка формы с пустым полем "Номер карты".**  
   #### Шаги воспроизведения
       1. Оставить поле "Номер карты" пустым
       2. В поле "Месяц" ввести номер текущего месяца
       3. В поле "Год" ввести номер текущего года
       4. В поле "Владедец" ввести валидные имя и фамилию
       5. В поле "CVC/CVV" ввести валидный код
       6. Кликнуть кнопку "Продолжить"
       Ожидаемый результат: Под полем появляется ошибка по типу "Поле пустое". В БД записи нет

1. **Отправка формы с пустым полем "Месяц".**
   #### Шаги воспроизведения
       1. В поле "Номер карты" ввести номер APPROVED карты (1111 2222 3333 4444)
       2. Поле "Месяц" оставить пустым
       3. В поле "Год" ввести номер текущего года
       4. В поле "Владедец" ввести валидные имя и фамилию
       5. В поле "CVC/CVV" ввести валидный код
       6. Кликнуть кнопку "Продолжить"
       Ожидаемый результат: Под полем появляется ошибка по типу "Поле пустое". В БД записи нет

1. **Отправка формы с пустым полем "Год".**
   #### Шаги воспроизведения
       1. В поле "Номер карты" ввести номер APPROVED карты (1111 2222 3333 4444)
       2. В поле "Месяц" ввести номер текущего месяца
       3. Поле "Год" оставить пустым
       4. В поле "Владедец" ввести валидные имя и фамилию
       5. В поле "CVC/CVV" ввести валидный код
       6. Кликнуть кнопку "Продолжить"
       Ожидаемый результат: Под полем появляется ошибка по типу "Поле пустое". В БД записи нет

1. **Отправка формы с пустым полем "Владелец".**
   #### Шаги воспроизведения
       1. В поле "Номер карты" ввести номер APPROVED карты (1111 2222 3333 4444)
       2. В поле "Месяц" ввести номер текущего месяца
       3. В поле "Год" ввести номер текущего года
       4. Поле "Владедец" оставить пустым
       5. В поле "CVC/CVV" ввести валидный код
       6. Кликнуть кнопку "Продолжить"
       Ожидаемый результат: Под полем появляется ошибка по типу "Поле пустое". В БД записи нет

1. **Отправка формы с пустым полем "CVC/CVV".**
   #### Шаги воспроизведения
       1. В поле "Номер карты" ввести номер APPROVED карты (1111 2222 3333 4444) 
       2. В поле "Месяц" ввести номер текущего месяца
       3. В поле "Год" ввести номер текущего года
       4. В поле "Владедец" ввести валидные имя и фамилию
       5. Поле "CVC/CVV" оставить пустым
       6. Кликнуть кнопку "Продолжить"
       Ожидаемый результат: Под полем появляется ошибка по типу "Поле пустое". В БД записи нет

1. **Отправка формы с невалидным номером карты (отличным от APPROVED/DECLINE карт).**
   #### Шаги воспроизведения
       1. В поле "Номер карты" ввести номер карты, отличный от APPROVED/DECLINE карт
       2. В поле "Месяц" ввести номер текущего месяца
       3. В поле "Год" ввести номер текущего года
       4. В поле "Владедец" ввести валидные имя и фамилию
       5. В поле "CVC/CVV" ввести валидный код
       6. Кликнуть кнопку "Продолжить"
       Ожидаемый результат: Под полем появляется ошибка по типу "Неверный номер карты". В БД записи нет

1. **Ввод в поле "Номер карты" данных кирилицей.**
   #### Шаги воспроизведения
       1. В поле "Владедец" ввести данные кириллицей
       Ожидаемый результат: Ввод в поле не происходит.

1. **Ввод в поле "Номер карты" данных спецсимволами.**
   #### Шаги воспроизведения
       1. В поле "Владедец" ввести данные спецсимволами
       Ожидаемый результат: Ввод в поле не происходит.

1. **Ввод в поле "Месяц" данных кириллицей.**
   #### Шаги воспроизведения
       1. В поле "Месяц" ввести данные кириллицей
       Ожидаемый результат: Ввод в поле не происходит

1. **Ввод в поле "Месяц" данных латиницей.**
   #### Шаги воспроизведения
       1. В поле "Месяц" ввести данные латиницей
       Ожидаемый результат: Ввод в поле не происходит

1. **Ввод в поле "Месяц" данных спецсимволами.**
   #### Шаги воспроизведения
       1. В поле "Месяц" ввести данные спецсимволами
       Ожидаемый результат: Ввод в поле не происходит

1. **Ввод в поле "Год" данных кириллицей.**
   #### Шаги воспроизведения
       1. В поле "Год" ввести данные кириллицей
       Ожидаемый результат: Ввод в поле не происходит

1. **Ввод в поле "Год" данных латиницей.**
   #### Шаги воспроизведения
       1. В поле "Год" ввести данные латиницей
       Ожидаемый результат: Ввод в поле не происходит

1. **Ввод в поле "Год" данных спецсимволми.**
   #### Шаги воспроизведения
       1. В поле "Год" ввести данные спецсимволами
       Ожидаемый результат: Ввод в поле не происходит

1. **Ввод в поле "Владелец" данных кирилицей.**
   #### Шаги воспроизведения
       1. В поле "Владедец" ввести данные кириллицей
       Ожидаемый результат: Ввод в поле не происходит. 

1. **Ввод в поле "Владелец" данных цифрами.**
   #### Шаги воспроизведения
       1. В поле "Владедец" ввести данные цифрами
       Ожидаемый результат: Ввод в поле не происходит. 

1. **Ввод в поле "Владелец" данных спецсимволами.**
   #### Шаги воспроизведения
       1. В поле "Владедец" ввести данные спецсимволами
       Ожидаемый результат: Ввод в поле не происходит. 

1. **Ввод в поле "CVC/CVV" данных кириллицей.**
   #### Шаги воспроизведения
       1. В поле "CVC/CVV" ввести данные кириллицей
       Ожидаемый результат: Ввод в поле не происходит.

1. **Ввод в поле "CVC/CVV" данных латиницей.**
   #### Шаги воспроизведения
       1. В поле "CVC/CVV" ввести данные латиницей
       Ожидаемый результат: Ввод в поле не происходит.

1. **Ввод в поле "CVC/CVV" данных спецсимволами.**
   #### Шаги воспроизведения
       1. В поле "CVC/CVV" ввести данные спецсимволами
       Ожидаемый результат: Ввод в поле не происходит.

1. **Отправка формы с полем "Месяц" меньше минимального значения, остальыне поля валидные.**
   #### Шаги воспроизведения
       1. В поле "Номер карты" ввести номер APPROVED карты 
       2. В поле "Месяц" ввести номер "0"
       3. В поле "Год" ввести номер следующего года
       4. В поле "Владедец" ввести валидные имя и фамилию пользователя
       5. В поле "CVC/CVV" ввести валидный код
       6. Кликнуть кнопку "Продолжить"
       Ожидаемый результат: Под полем появляется ошибка "Неверный формат". Записи в БД нет

1. **Отправка формы с полем "Месяц" больше максимального значения, остальные поля валидные.**
   #### Шаги воспроизведения
       1. В поле "Номер карты" ввести номер APPROVED карты 
       2. В поле "Месяц" ввести "13"
       3. В поле "Год" ввести номер текущего года
       4. В поле "Владедец" ввести валидные имя и фамилию пользователя
       5. В поле "CVC/CVV" ввести валидный код
       6. Кликнуть кнопку "Продолжить"
       Ожидаемый результат: Под полем появляется ошибка "Неверный формат". Записи в БД нет

1. **Отправка формы с полем "Месяц" ранее текущего, но текущего года, остальные поля валидные.**
   #### Шаги воспроизведения
       1. В поле "Номер карты" ввести номер APPROVED карты 
       2. В поле "Месяц" ввести номер месяца, меньшего чем текущий
       3. В поле "Год" ввести номер текущего года
       4. В поле "Владедец" ввести валидные имя и фамилию пользователя
       5. В поле "CVC/CVV" ввести валидный код
       6. Кликнуть кнопку "Продолжить"
       Ожидаемый результат: Под полем появляется ошибка "Неверный формат". Записи в БД нет

1. **Отправка формы с полем "Год" меньше минимального значения, остальные поля валидные.**
   #### Шаги воспроизведения
       1. В поле "Номер карты" ввести номер APPROVED карты 
       2. В поле "Месяц" ввести номер текущего месяца
       3. В поле "Год" ввести номер года, меньше текущего на 1
       4. В поле "Владедец" ввести валидные имя и фамилию пользователя
       5. В поле "CVC/CVV" ввести валидный код
       6. Кликнуть кнопку "Продолжить"
       Ожидаемый результат: Под полем появляется ошибка "Неверный формат". Записи в БД нет

1. **Отправка формы с полем "Год" больше максимального значения, остальные поля валидные.**
   #### Шаги воспроизведения
       1. В поле "Номер карты" ввести номер APPROVED карты  
       2. В поле "Месяц" ввести номер текущего месяца
       3. В поле "Год" ввести номер года, больше текущего на 21
       4. В поле "Владедец" ввести валидные имя и фамилию пользователя
       5. В поле "CVC/CVV" ввести валидный код
       6. Кликнуть кнопку "Продолжить"
       Ожидаемый результат: Под полем появляется ошибка "Неверный формат". Записи в БД нет

1. Отправка формы с полем "Номер карты" меньше 16 цифр, остальные поля валидные.
   #### Шаги воспроизведения
       1. В поле "Номер карты" ввести номер, менее 16 цифр
       2. В поле "Месяц" ввести номер текущего месяца
       3. В поле "Год" ввести номер текущего года
       4. В поле "Владедец" ввести латиницей имя и фамилию пользователя
       5. В поле "CVC/CVV" ввести валидный код
       6. Кликнуть кнопку "Продолжить"
       Ожидаемый результат: Форма не отправляется. Под полем "Номер карты" сообшение по типу "Неверный формат"

1. Ввод в поле "Номер карты" больше 16 цифр.
   #### Шаги воспроизведения
       1. В поле "Номер карты" ввести номер, превышающий длину 16 знаков
       Ожидаемый результат: Вводятся первые 16 цифр

1. Отправка формы с полем "Месяц" меньше 2 цифр, остальные поля валидные данные.
   ### Шаги вопспроизведения
       1. В поле "Номер карты" ввести номер APPROVED карты
       2. В поле "Месяц" ввести цифру от 1 до 9
       3. В поле "Год" ввести номер текущего года
       4. В поле "Владедец" ввести латиницей имя и фамилию пользователя
       5. В поле "CVC/CVV" ввести валидный код
       6. Кликнуть кнопку "Продолжить"
       Ожидаемый результат: Форма не отправялется. Под полем "Месяц" сообшение по типу "Неверный формат"

1. Ввод в поле "Месяц" больше 2 цифр.
   #### Шаги воспроизведения
       1. В поле "Месяц" ввести номер месяца, превышающий длину 2 знаков
       Ожидаемый результат: Вводятся первые 2 цифры

1. Отправка формы с полем "Год" меньше 2 цифр, остальные поля - валидные данные.
   ### Шаги вопспроизведения
       1. В поле "Номер карты" ввести номер APPROVED карты
       2. В поле "Месяц" ввести номер текущего месяца
       3. В поле "Год" ввести цифру от 1 до 9
       4. В поле "Владедец" ввести латиницей имя и фамилию пользователя
       5. В поле "CVC/CVV" ввести валидный код
       6. Кликнуть кнопку "Продолжить"
       Ожидаемый результат: Форма не отправялется. Под полем "Год" сообшение по типу "Неверный формат"

1. Ввод в поле "Год" больше 2 цифр.
   #### Шаги воспроизведения
       1. В поле "Год" ввести номер года, превышающий длину 2 знаков
       Ожидаемый результат: Вводятся первые 2 цифры

1. Отправка формы с полем "Владелец" в 1 символ, остальные поля - валидные данные.
   ### Шаги вопспроизведения
       1. В поле "Номер карты" ввести номер APPROVED карты
       2. В поле "Месяц" ввести номер текущего месяца
       3. В поле "Год" ввести номер текущего года
       4. В поле "Владедец" ввести латиницей 1 символ
       5. В поле "CVC/CVV" ввести валидный код
       6. Кликнуть кнопку "Продолжить"
       Ожидаемый результат: Форма не отправялется. Под полем "Владелец" сообшение по типу "Неверный формат"

1. Ввод в поле "Владелец" более 30 символов латиницей.
   #### Шаги воспроизведения
       1. В поле "Владедец" ввести латиницей более 30 символов
       Ожидаемый результат: Вводятся первые 30 символов

1. Отправка формы с полем "СVC/CVV" меньше 3 цифр, остальные поля - валидные данные.
   ### Шаги вопспроизведения
       1. В поле "Номер карты" ввести номер APPROVED карты
       2. В поле "Месяц" ввести номер текущего месяца
       3. В поле "Год" ввести номер текущего года
       4. В поле "Владедец" ввести латиницей имя и фамилию пользователя
       5. В поле "CVC/CVV" ввести 2 цифры
       6. Кликнуть кнопку "Продолжить"
       Ожидаемый результат: Форма не отправялется. Под полем "CVC/CVV" сообшение по типу "Неверный формат"

1. Ввод в поле "CVC/CVV" больше 3 цифр.
   #### Шаги воспроизведения
       1. В поле "CVC/CVV" код, превышающий длину 3 знака
       Ожидаемый результат: Вводятся первые 3 цифры

## Перечень используемых инструментов с обоснованием выбора
1. Язык программирования: **Java**  
   Широкая распространенность в автоматизации, богатая экосистема библиотек, мощная поддержка сообщества, совместимость с большинством инструментов, хорошая производительность.
1. Фреймворк для UI-автоматизации: **Selenide**  
   Это фреймворк для автоматизированного тестирования веб-приложений, построенный на базе Selenium WebDriver. Он упрощает написание тестов, предоставляя более простой и читаемый синтаксис, а также автоматизируя многие задачи, такие как ожидание появления элементов и их активации.
1. Фреймворк для тестирования: **JUnit 5**  
   Это фреймворк для языка программирования Java, предназначенный для автоматического тестирования программ. Его основное назначение — unit-тестирование, то есть такое, когда по отдельности проверяется функциональность каждого компонента программы.
1. Библиотека для API-тестирования: **RestAssured**  
   Один из лидеров для тестирования REST API в Java. Простая настройка запросов и валидации ответов.
1. Система сборки: **Gradle**  
   Gradle — система для автоматизации сборки приложений и сбора статистики об использовании программных библиотек
1. Фреймворк для управления данными: **Faker (JavaFaker)**  
   Генерация реалистичных тестовых данных (имена, адреса, телефоны, email). Уменьшает ручной труд и повышает вариативность тестов.
1. Фреймворк для отчетности: **Allure Report**  
   Allure - мощный, стандартизированный фреймворк для создания наглядных, интерактивных и информативных отчетов о выполнении тестов. Поддерживает шаги, скриншоты, логи.
1. Логирование: **SLF4J**  
   Запись детальной информации о ходе выполнения тестов для отладки и анализа падений.
1. Библиотека для сокращения кода: **Lombok**  
   Упрощает написание моделей данных за счет генерации геттеров, сеттеров, конструкторов.
1. Система контроля версий: **Git**  
   Стандарт для управления исходным кодом. Хостинг: *GitHub*.


## Перечень и описание возможных рисков при автоматизации
1. **Изменение селекторов (ID, XPath, CSS) на странице:**  
   Описание: Частая доработка фронтенда может сломать тесты из-за изменения структуры или атрибутов элементов.
   Минимизация: Использовать стабильные селекторы (уникальные ID, data-testid атрибуты). Применять Page Object Model (POM) для изоляции локаторов. Регулярно запускать тесты.
1. **Динамические данные:**  
   Описание: Необходимость уникальных данных при каждой отправке (месяц, год, владелец, CVC/CVV) может усложнить тесты.
   Минимизация: Использовать библиотеки для генерации данных (Faker). Очищать тестовые данные после теста через API/БД (если возможно).
1. **Нестабильность тестов:**  
   Описание: Тесты могут проходить/падать без изменения кода из-за таймаутов, асинхронности, проблем с сетью, нагрузки на систему.
   Минимизация: Использовать явные ожидания. Увеличивать таймауты там, где это оправдано. Стабилизировать тестовое окружение. Регулярно анализировать и исправлять нестабильные тесты.
1. **Время на поддержку:**  
   Описание: Автотесты требуют постоянного обновления и исправлений при изменении функционала.
   Минимизация: Писать поддерживаемый код (POM, DRY принцип, хорошая структура). Адекватно оценивать стоимость поддержки при принятии решения об автоматизации конкретного сценария.
1. **Ограниченность проверки визуального оформления:**  
   Описание: Selenide плохо подходит для проверки пиксель-перфект верстки, шрифтов, мелких визуальных дефектов.
   Минимизация: Ручная проверка визуальной составляющей.
## Интервальная оценка с учетом рисков (в часах)
1. Подготовка инфраструктуры и базового фреймворка: 3-4 ч
(Настройка проекта Gradle, базовые классы, конфиги, логирование, базовые утилиты, интеграция Allure)
1. Реализация Page Objects: 5-6 ч
   (Создание классов страниц, элементов, хелперов для работы с полями/кнопками, генерации данных)
1. Автоматизация позитивных сценариев: 5-6 ч
1. Автоматизация негативных сценариев: 5-6 ч
1. Доработка отчетности: 5-6 ч
1. Написание документации (README, описание фреймворка): 2-3 ч
1. Резерв на устранение замечаний: 5-6 ч
1. Резерв на непредвиденные сложности и риски: 5-6 ч
   Итого Оценочный Диапазон: 35 - 41 часов
## План сдачи работ
1. **01.06 - 02.06 (Подготовка):**  
   Настройка проекта, инфраструктуры (Java, Gradle, Git).
   Проектирование базовой структуры фреймворка.
   Интеграция Selenide, JUnit 5, Allure, Logging.
   Результат: Рабочий скелет проекта в GitHub.
1. **03.06 - 06.06 (Базовые страницы, позитивные и негативные сценарии):**  
   Реализация Page Objects для страниц.
   Автоматизация ключевых позитивных сценариев (мин. обязательные поля, все поля).
   Интеграция Allure Report, настройка генерации отчетов.
   Автоматизация негативных сценариев.
   Реализация проверок сообщений об ошибках.
   Доработка фреймворка для удобства написания негативных тестов.
   Результат: Автоматизированы основные сценарии. Первые отчеты Allure доступны.
1. **07.06 - 10.06 (Финализация и документация):**  
   Написание документации (README: как запустить, структура проекта, описание ключевых классов).
   Регрессионный прогон всех тестов.
   Передача кода, документации, доступа к отчетам.
   Результат: Полностью готовый к использованию фреймворк с тестами, документацией.
1. **11.06 - 13.06 (Доработка):**  
   Рефакторинг кода, улучшение стабильности тестов, исправление замечаний по курсовой работе.
   Результат: Курсовая готова и принята.


